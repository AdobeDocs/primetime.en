<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="task_nfd_2jp_tp"> 
  <title>Replace time ranges with an ad</title> 
  <shortdesc>You can insert ads into VOD content.
  </shortdesc> 
  <taskbody> 
	 <context id="context_274F059055F14828995008AAEFF4D12A"> 
		<p>The 
		  <codeph>TimeRanges</codeph> between the 
		  <codeph>begin</codeph> and 
		  <codeph>end</codeph> in 
		  <codeph>localTime</codeph> are removed from the timeline. These ranges
		  are replaced by an 
		  <codeph>AdBreak</codeph> of 
		  <codeph>begin</codeph> to 
		  <codeph>begin+replaceDuration</codeph>. If the 
		  <codeph>replacement-duration</codeph> does not exist as a parameter,
		  the server makes the determination on the returned 
		  <codeph>Adbreak</codeph>. 
		</p> 
		<note type="tip">You should always provide a 
		  <codeph>replacement-duration</codeph> for custom ranges. If no ads are
		  intended to replace this custom range, provide a 
		  <codeph>replacement-duration</codeph> of 0. 
		</note> 
	 </context> 
	 <steps id="steps_4DFD0C579433442686774FBBF6B47F2A"> 
		<step id="step_0BB697A315FA4A3FAA4593A4E7A9FE15"> 
		  <cmd>To replace the ranges with 
			 <ph conkeyref="phrases/auditude-name"/> ads:
		  </cmd> 
		  <info> 
			 <codeblock outputclass="syntax json">{   
    "properties": [],
    "stream": {
        "manifests": [
            {
                "url": "http://d398890tia84ty.cloudfront.net/e2e-vod/cloudfront_vod_hls_tos_30fps.m3u8",
                "type": "hls"
            }
        ],
        "metadata": {
            "time-ranges": {
                "type": "replace",
                "time-range-list": [
                    {
                        "begin": 0,
                        "end": 15000,
                        "replacement-duration": 15000
                    },
                    {
                             "begin": 69000,
                             "end": 99000,
                             "replacement-duration": 30000
                    },
                    {
                        "begin": 251000,
                        "end": 281000,
                        "replacement-duration": 30000
                    },
                    {
                        "begin": 514000,
                        "end": 544000,
                        "replacement-duration": 30000
                    }
                ]
            },
            "ad": {
                "targeting": [
                    {
                        "value": "MulAdsAvail12346",
                        "key": "osmfKeyMulAdsAvail12346"
                    }
                ],
            "domain": "sandbox2.auditude.com",
            "mediaid": "psdk_000105",
            "zoneid": "121781"
            }     
        }
    },   
    "title": "VOD - Replace TimeRange with Auditude Ads",
    "thumbnail": {
        "large": "http://example.com",
        "small": "http://example.com"
    },
    "type": "vod",
    "id": "vod_003"
}</codeblock> 
		  </info> 
		</step> 
	 </steps> 
  </taskbody> 
</task> 
