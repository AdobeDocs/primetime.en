<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="custom_time_range_ops"> 
  <title>Custom time range operations</title> 
  <shortdesc> The 
	 <codeph>CustomRangeMetadata</codeph> class identifies different types of
	 time ranges in a VOD stream: mark, delete, and replace. For each of these
	 custom time range types, you can perform corresponding operations, including
	 deleting and replacing ad content. 
  </shortdesc> 
  <conbody> 
	 <section id="section_1323C0BAC259424C85A6ACFB48FE77EC"> 
		<p>For ad deletion and replacement, <ph conkeyref="phrases/primetime-sdk-name"/> uses the following 
		  <i>custom time range operation</i> modes: 
		<ul id="ul_E824FC968FD54C7286B96A0978273D3A"> 
		  <li id="li_DAF4E38D6A2245E5A112628283B0FC91"><b>MARK 
			 </b>
			 <p>This mode was referred to as custom ad markers in previous
				versions of <ph conkeyref="phrases/primetime-sdk-name"/>. The mode marks the beginning and ending times for ads that
				are already placed into the VOD stream. When there are time range markers of
				type 
				<codeph>MARK</codeph> in the stream, an initial placement of 
				<codeph>Mode.MARK</codeph> is generated by 
				<codeph>CustomMarkerOpportunityGenerator</codeph> and resolved by 
				<codeph>CustomRangeResolver</codeph>. No ads are inserted. 
			 </p> 
		  </li> 
		  <li id="li_F5721F5F0B4149C399F5692D735DDCF9"><b>DELETE 
			 </b>
			 <p>For 
				<codeph>DELETE</codeph> time ranges, an initial 
				<codeph>placementInformation</codeph> of type 
				<codeph>Mode.DELETE</codeph> is created and resolved by 
				<codeph>CustomRangeResolver</codeph>. 
				<codeph>DeleteRangeTimelineOperation</codeph> defines the ranges to
				be removed from the timeline, and <ph conkeyref="phrases/primetime-sdk-name"/> uses 
				<codeph>removeByLocalTime</codeph> from the Adobe Video Engine
				(AVE) API to complete this operation. If there are DELETE ranges and 
				<ph conkeyref="phrases/auditude-name-long"/> metadata, the ranges
				are deleted first, then the 
				<codeph>AuditudeResolver</codeph> resolves ads using the typical 
				<ph conkeyref="phrases/auditude-name-long"/> workflow. 
			 </p> 
		  </li> 
		  <li id="li_0BBEA063B5E24CC697390093E0348348"><b>REPLACE 
			 </b>
			 <p>For 
				<codeph>REPLACE</codeph> time ranges, two initial 
				<codeph>placementInformations</codeph> are created, one 
				<codeph>Mode.DELETE</codeph> and one 
				<codeph>Mode.REPLACE</codeph>. 
				<codeph>CustomRangeResolver</codeph> deletes the time ranges first
				and then the 
				<codeph>AuditudeResolver</codeph> inserts ads of the specified 
				<codeph>replaceDuration</codeph> into the timeline. If no 
				<codeph>replaceDuration</codeph> is specified, the server
				determines what to insert. 
			 </p>
		  </li> 
		</ul>
		</p> 
		<p>To support these custom time range operations, <ph conkeyref="phrases/primetime-sdk-name"/> provides the
		  following: 
		<ul id="ul_02E321A77C8B46AC94EF5A39315CDD1D"> 
		  <li id="li_B9E134E34E5D4B4486CCF856A5F0FDA3">Multiple content resolvers
			 
			 <p>A stream can have multiple content resolvers based on the ad
				signaling mode and ad metadata. The behavior changes with different
				combinations of ad signaling modes and ad metadata. 
			 </p>
		  </li> 
		  <li id="li_0E8A67B6F168463DB2D3A6109D378FD8">Multiple initial
			 opportunities using 
			 <codeph>CustomMarkerOpportunityGenerator</codeph>.
		  </li> 
		  <li id="li_4DEEF31520A9456388CEBDE29268A1C8">A new ad signaling mode, 
			 <codeph>CUSTOM_RANGES</codeph>. 
			 <p>Ads are placed based on Time Range data from an external source,
				such as a JSON file. 
			 </p> 
		  </li> 
		</ul> 
		</p> 
	 </section> 
  </conbody> 
</concept> 
