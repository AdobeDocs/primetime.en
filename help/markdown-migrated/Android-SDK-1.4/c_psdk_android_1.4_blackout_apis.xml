<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="blackout_apis"> 
  <title>Blackout API elements</title> 
  <shortdesc><ph conkeyref="phrases/primetime-sdk-name"/> provides API elements
	 that are useful when implementing blackouts, including methods, metadata, and
	 notifications. 
  </shortdesc> 
  <conbody> 
	 <p>You can use the following when implementing a blackout solution in your player. <ul
				id="ul_7515575EDBDE4CB19942A328E4C7AEDF">
				<li id="li_220966F1B20D4076901C218CF48082D7"><b>MediaPlayer</b>
					<ul id="ul_9FD21FA5D3194BEC94A926D896EC4F9C">
						<li id="li_E46F56187231488D945F43E49622CB63"
								><codeph>registerCurrentItemAsBackgroundItem</codeph>
							<p>Saves the currently loaded resource as the background resource. If
									<codeph>replaceCurrentResource</codeph> is called after this
								method, <ph conkeyref="phrases/primetime-sdk-name"/> continues to
								download the background itemâ€™s manifest until you call
									<codeph>unregisterCurrentBackgroundItem</codeph>,
									<codeph>release</codeph>, or <codeph>reset</codeph>. </p>
						</li>
						<li id="li_015A5C439D454C2D9685344C97B3FBED"
								><codeph>unregisterCurrentBackgroundItem</codeph>
							<p>Sets the background item to null and stops fetching and parsing the
								background manifest. </p></li>
					</ul></li>
				<li id="li_15B4978195204100A7811BE5755A8FC0"><b>BlackoutMetadata</b> -   <p>A
						Metadata class that is specific to blackouts. </p><p>This allows you to set
						nonseekable ranges (an array of <codeph>TimeRanges</codeph>) on <ph
							conkeyref="phrases/primetime-sdk-name"/>. <ph
							conkeyref="phrases/primetime-sdk-name"/> checks for these ranges every
						time the user seeks. If it is set and the user seeks into a nonseekable
						range, <ph conkeyref="phrases/primetime-sdk-name"/> forces the viewer to the
						end of the nonseekable range. </p>
				</li>
				<li id="li_8DA7F9E40BF3497482A1EAA173F656DF"><b>START HERE
						NEXT</b><b>AdvertisingMetadata</b>
					<p>Enable or disable preroll on a live stream by setting
							<codeph>enableLivePreroll</codeph> to true or false. If false, <ph
							conkeyref="phrases/primetime-sdk-name"/> does not make an explicit ad
						server call for pre-roll ads before the content playback and so does not
						play the pre-roll. This has no impact on the mid-rolls. The default is true.
					</p>
				</li>
				<li id="li_CF319A607EDE4682859DE4C3C421A085"
						><b>MediaPlayer.BlackoutsEventListener</b>
					<ul id="ul_E0E2E396BF0749158B1F16B3FB921766">
						<li id="li_7A3505C915A94F64B1A922F3CABCC712"
								><codeph>onTimedMetadataInBackgroundItem</codeph> - Dispatched when
							detects a subscribed tag in the background manifest  and a new
								<codeph>TimedMetadata</codeph> instance is prepared from it. The
								<codeph>TimedMetadata</codeph> instance is dispatched as a
							parameter. </li>
						<li id="li_26A531A8EF384B51A56854470D259301"
								><codeph>onBackgroundManifestFailed</codeph> - Dispatched when the
							media player completely fails to load the background manifest, that is,
							all of the stream URLs return either an error or an invalid response.
						</li>
					</ul></li>
				<li id="li_F192F8B0F8F14CB5B9342DFBD4E23F03">
					<b>Notifications</b>
					<ul id="ul_4A917DD8145D43A380A34C8C9F68E885">
						<li id="li_DFE1EE26CB1C4581B77952C9B01664CC"
								><codeph>BACKGROUND_MANIFEST_WARNING</codeph>
							<ul id="ul_13E487559FB84D9D869D9824FA85C54B">
								<li id="li_068D21F17D2D4C8C9485D4AA5DFCBE9F">Code: 204000 </li>
								<li id="li_8AC9E09F000A49859DE8153A0A6F4349">Type: Warning </li>
								<li id="li_5BFD34423C8B437199F1C0B2766811EE">Error in background
									manifest download. </li>
							</ul></li>
					</ul></li>
			</ul></p> 
  </conbody> 
</concept> 
