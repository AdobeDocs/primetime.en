<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "technicalContent/dtd/concept.dtd">
<concept id="c_psdk_lazy-ad-resolving" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
	<title>Lazy ad resolving</title>
	<shortdesc>Ad resolving and ad loading can cause a delay as you wait for playback to start. Lazy ad loading and lazy ad resolving can reduce this startup delay.</shortdesc>
	<prolog>
		<metadata>
			<keywords>
				<keyword>Lazy</keyword>
				<keyword>Ad resolving</keyword>
				<keyword>Ad loading</keyword>
			</keywords>
		</metadata>
	</prolog>
	<conbody>
		<p>The basic process of ad resolving is composed of these steps:</p>
		<ol>
			<li><ph conkeyref="phrases/primetime-sdk-name"/> downloads the manifest (playlist).</li>
			<li><ph conkeyref="phrases/primetime-sdk-name"/> resolves all of the ads.</li>
			<li><ph conkeyref="phrases/primetime-sdk-name"/> loads all of the ads and places them on the timeline.</li>
			<li><ph conkeyref="phrases/primetime-sdk-name"/> moves the player into the READY state, and content playback begins.</li>
		</ol>
		<p>The player uses the URLs in the manifest to obtain the ad content (creatives), ensures that the ad content is in a format that <ph conkeyref="phrases/primetime-sdk-name"/> can play, and <ph conkeyref="phrases/primetime-sdk-name"/> places the ads on the timeline. This basic process of
			resolving and loading ads can cause a long delay in playing content, especially if the manifest contains several ad creatives.</p>
		<p>Lazy ad resolving allows for a faster start-up by resolving only pre-roll ads before start-up. The process of lazy ad resolving is composed of these steps:</p>
		<ol>
			<li><ph conkeyref="phrases/primetime-sdk-name"/> downloads the playlist.</li>
			<li><ph conkeyref="phrases/primetime-sdk-name"/> resolves and loads only the pre-roll ads, moves the player into the READY state, and content playback begins.</li>
			<li><ph conkeyref="phrases/primetime-sdk-name"/> resolves and loads the remaining ads and places them on the timeline as playback occurs at or before the expected time of an ad break.</li>
		</ol>
		<note type="important"><p>Consider these factors when you work with lazy ad resolving:</p>
			<ul id="ul_08F21C12113645DCAF5BBC7832337937">
				<li>Lazy ad resolving is disabled by default on iOS. If you keep lazy ad resolving disabled, all ads are resolved before playback starts.</li>
				<li>Lazy ad resolving is for VOD only. It will not work with LIVE streams.</li>
				<li>Lazy ad resolution does not affect pre-roll ads.</li>
				<li>If the code allows the pre-roll and the mid-roll ad to play, then, at 30 seconds, just before the mid-roll ad plays, there is a black screen for two seconds. The source of this behavior is the dual-player approach which has a drawback in the visible delay in the transition between<ul>
						<li>content and an ad break</li>
						<li>one ad and another ad</li>
					</ul><draft-comment author="Eric Wenburg">This has to do with https://jira.corp.adobe.com/browse/PTPLAY-19279. I'm leaving it in although the placement is probably erroneous with respect to lazy ad loading. A search for mid-roll might reveal a better place or at least another
						place.</draft-comment></li>
			</ul>
		</note>
	</conbody>
</concept>
