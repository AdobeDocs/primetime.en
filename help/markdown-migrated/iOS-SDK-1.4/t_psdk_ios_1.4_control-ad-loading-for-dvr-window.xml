<?xml version="1.0"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="t_psdk_ios_control-ad-loading-dbr-window"> 
  <title>Control ad loading for a DVR window</title> 
  <shortdesc/> 
  <taskbody> 
	 <context id="context_CB9C71ACA43546D1B4D77F1BF86ED503"> 
		<p>To control ad loading for a DVR window: 
		</p> 
	 </context> 
	 <steps id="steps_72C7A8C512B246B18CEA760DE0B38D06"> 
		<step id="step_E737B4A3475B44A88DDFF8696B68C758"> 
		  <cmd>To load all ads for the entire stream, set the 
			 <codeph>PTAdMetadata.enableDVRAds</codeph> property to 
			 <codeph>YES</codeph>. 
		  </cmd> 
		  <info>The default value is 
			 <codeph>NO</codeph>, and this option loads ads only from the current
			 live point. 
			 <p>For example: 
			 </p> 
			 <codeblock outputclass="syntax objective-c">PTMetadata *metadata = [[[PTMetadata alloc] init] autorelease];

PTAuditudeMetadata *adMetadata = [[[PTAuditudeMetadata alloc] init] autorelease]; 
adMetadata.zoneId = &lt;ZoneId&gt;;
adMetadata.domain = &lt;Domain&gt;;

// Enable DVR Ads by setting to YES the enableDVRAds property on PTAdMetadata 
// (PTAuditudeMetadata is a subclass of PTAdMetadata) 
adMetadata.enableDVRAds = YES;

[metadata setMetadata:adMetadata forKey:PTAdResolvingMetadataKey];

//Create PTMediaPlayerItem with the previously prepared metadata   
playerItem = [[PTMediaPlayerItem alloc] initWithUrl:url mediaId:yourMediaID metadata:metadata];
</codeblock> 
		  </info> 
		</step> 
	 </steps> 
  </taskbody> 
</task> 
