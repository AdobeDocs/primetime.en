<?xml version="1.0"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="t_psdk_ref_configure-buffer-control-parameters"> 
  <title>Configure buffer control parameters</title> 
  <shortdesc>You can set different buffering policies in the 
	 <ph
	  conref="../../phrase_library_ref_impl.xml#c_psdk_phrase-library/primetime-sdk-name"/>,
	 consisting of the initial buffer time and the playback buffer time, depending
	 on your needs, such as the device, the operating system, or the network
	 conditions. 
  </shortdesc> 
  <taskbody> 
	 <context id="context_F335E83947CB4E16B680E8EDC906B612"> 
		<p>When the media player buffer reaches the initial buffer time, playback
		  begins. 
		</p> 
		<p>This improves the start-up time because the player does not wait for the entire buffer to fill
				before starting playback. Instead, after a few seconds are buffered, playback
				begins. While the video is being rendered, <ph
					conref="../../phrase_library_ref_impl.xml#c_psdk_phrase-library/primetime-sdk-name"
				/> continues to buffer new fragments until it is has buffered the amount that is
				specified by the playback buffer time. If the current buffer length drops below the
				playback buffer time, the player will download additional fragments. Once the
				current buffer length is above the playback buffer time by a few seconds, <ph
					conref="../../phrase_library_ref_impl.xml#c_psdk_phrase-library/primetime-sdk-name"
				/> will stop downloading fragments. </p> 
		<p>To configure buffer parameters, implement <xref
					href="http://help.adobe.com/en_US/primetime/reference_implementation/android/javadoc/com/adobe/primetime/reference/config/IPlaybackConfig.html"
					format="html" scope="external"><apiname>IPlaybackConfig</apiname></xref>
				<apiname>getInitBufferTime()</apiname> and <apiname>getBufferTime()</apiname>. </p> 
		<p>The reference implementation uses SharedPreferences for the
		  configuration source. 
		</p> 
		<p>To see how the reference implementation reads the configuration information from
				SharedPreferences using <xref
					href="http://help.adobe.com/en_US/primetime/reference_implementation/android/javadoc/com/adobe/primetime/reference/config/IPlaybackConfig.html"
					format="html" scope="external"><apiname>IPlaybackConfig</apiname></xref>
				<codeph>getInitBufferTime()</codeph> and <codeph>getBufferTime()</codeph>, refer to
				the <codeph>ConfigProvider.java</codeph> file:
				<codeblock outputclass="syntax java">/**
 * {inheritDoc}
 */
@Override
public long getInitBufferTime() {
    long initBufferTime = PreferencesUtils.getLongPreference(preferences,
                          PlaybackManager.SETTINGS_BUFFER_INIT,
                          PlaybackManager.DEFAULT_INIT_BUFFER);
    return initBufferTime;
}

/**
 * {inheritDoc}
 */
@Override
public long getBufferTime() {
    long playBufferTime = PreferencesUtils.getLongPreference(preferences,
                          PlaybackManager.SETTINGS_BUFFER_TIME,
                          PlaybackManager.DEFAULT_BUFFER_TIME);
    return playBufferTime;
}
</codeblock>
			</p> 
	 </context> 
  </taskbody> 
</task> 
