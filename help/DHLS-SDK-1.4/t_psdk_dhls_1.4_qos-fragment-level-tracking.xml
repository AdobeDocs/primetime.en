<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "technicalContent/dtd/task.dtd">
<task id="t_psdk_android_fragment-level-tracking"
 xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/"> 
  <title>Track at the fragment level using load information</title> 
  <shortdesc> You can read quality of service (QoS) information about downloaded resources, such as
		fragments and tracks, from the <codeph>LoadInformation</codeph> class. </shortdesc> 
  <taskbody> 
	 <steps id="steps_55DC754A22F74BA0BE2727E8F7B2857A"> 
		<step id="step_6B168AA28C3F413F8F35F84D7710C67D" > 
		  <cmd>Implement the 
			 <codeph >onLoadInformationAvailable</codeph> callback
			 event listener. 
		  </cmd> 
		  <info> 
			 <codeblock outputclass="syntax actionscript">private function onLoadInformationAvailable(event:LoadInformationEvent):void {
    var loadInformation:LoadInformation = event.loadInformation;
    // process the load information here    
}</codeblock> 
		  </info> 
		</step> 
		<step id="step_C6024A05CCA8464295CA3CB67797D286"> 
		  <cmd> Register the event listener, which 
			 <ph conkeyref="phrases/primetime-sdk-name"/> calls every time a
			 fragment has downloaded. 
		  </cmd> 
		  <stepxmp > 
			 <codeblock outputclass="syntax actionscript">player.addEventListener(LoadInformationEvent.LOAD_INFORMATION_AVAILABLE, 
                                 onLoadInformationAvailable);</codeblock> 
		  </stepxmp> 
		</step> 
		<step id="step_16B8306D2E35417DB04586D2B27762C5" > 
		  <cmd>Read the data of interest from the 
			 <codeph>LoadInformation</codeph> that is passed to the callback. 
		  </cmd> 
		  <info> 
			 <p> 
			 <table id="table_75E61A2EB25E435DB631166A7FF64757"> 
				<tgroup cols="3"><colspec colname="col01" colnum="1"
				  colwidth="1.14*"/><colspec colnum="2" colname="col1" colwidth="1.00*"/><colspec
				  colnum="3" colname="col2" colwidth="1.44*"/><thead> 
					 <row> 
						<entry colname="col01">Property 
						</entry> 
						<entry colname="col1">Type 
						</entry> 
						<entry colname="col2">Description 
						</entry> 
					 </row></thead> 
				  <tbody> 
					 <row> 
						<entry colname="col01"><codeph>downloadDuration</codeph></entry> 
						<entry colname="col1"> 
						  <p>Number 
						  </p> 
						</entry> 
						<entry colname="col2"> 
						  <p>The duration of the download in milliseconds. 
						  </p> 
						  <p><ph conkeyref="phrases/primetime-sdk-name"/> does not
							 differentiate between the time it took the client to connect to the server and
							 the time it took to download the full fragment. For example, if a 10 MB segment
							 takes 8 seconds to download, 
							 <ph conkeyref="phrases/primetime-sdk-name"/> provides
							 that information, but does not tell you that it took 4 seconds until the first
							 byte and another 4 seconds to download the entire fragment. 
						  </p> 
						</entry> 
					 </row> 
					 <row> 
						<entry colname="col01"><codeph>mediaDuration</codeph></entry> 
						<entry colname="col1"> 
						  <p>Number 
						  </p> 
						</entry> 
						<entry colname="col2">The media duration of the downloaded fragments in milliseconds. </entry> 
					 </row> 
					 <row> 
						<entry colname="col01">
											<codeph>size</codeph></entry> 
						<entry colname="col1"> 
						  <p>Number 
						  </p> 
						</entry> 
						<entry colname="col2">The size of the downloaded resource in bytes. </entry> 
					 </row> 
					 <row> 
						<entry colname="col01"><codeph>trackIndex</codeph></entry> 
						<entry colname="col1"> 
						  <p>int 
						  </p> 
						</entry> 
						<entry colname="col2">The index of the corresponding track,
						  if known; otherwise, 0. 
						</entry> 
					 </row> 
					 <row> 
						<entry colname="col01"><codeph>trackName</codeph></entry> 
						<entry colname="col1"> 
						  <p>String 
						  </p> 
						</entry> 
						<entry colname="col2">The name of the corresponding track, if known; otherwise, null. </entry> 
					 </row> 
					 <row> 
						<entry colname="col01"><codeph>trackType</codeph></entry> 
						<entry colname="col1"> 
						  <p>String 
						  </p> 
						</entry> 
						<entry colname="col2">The type of the corresponding track, if
						  known; otherwise, null. 
						</entry> 
					 </row> 
					 <row> 
						<entry colname="col01"><codeph>type</codeph></entry> 
						<entry colname="col1"> 
						  <p>String 
						  </p> 
						</entry> 
						<entry colname="col2">What 
						  <ph conkeyref="phrases/primetime-sdk-name"/> downloaded.
						  One of the following:
						  <ul id="ul_FA02F42D109344F4866073908CA4E835"> 
							 <li id="li_0E2D3EBCAB58477FB5EA526C54FACFFB">MANIFEST - A
								playlist/manifest 
							 </li> 
							 <li id="li_D7894C2F0CB64C909C6398288EA5683A">FRAGMENT - A
								fragment 
							 </li> 
							 <li id="li_4D4FEDB7704C411B80891B5028B0C20E">TRACK - A
								fragment associated with a specific track 
							 </li> 
						  </ul> Sometimes it might not be possible to detect the type
						  of the resource. If this occurs, FILE is returned. 
						</entry> 
					 </row> 
					 <row> 
						<entry colname="col01"><codeph>url</codeph></entry> 
						<entry colname="col1"> 
						  <p>String 
						  </p> 
						</entry> 
						<entry colname="col2"> The URL that points to the downloaded
						  resource. 
						</entry> 
					 </row> 
				  </tbody> 
				</tgroup> 
			 </table> 
			 </p> 
		  </info> 
		</step> 
	 </steps> 
  </taskbody> 
</task> 
