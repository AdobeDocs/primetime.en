<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="blackout_apis"> 
  <title>Blackout API elements</title> 
  <shortdesc><ph conkeyref="phrases/primetime-sdk-name"/> provides API elements
	 that are useful when implementing blackouts, including methods, metadata, and
	 notifications. 
  </shortdesc> 
  <conbody> 
	 <p>You can use the following when implementing a blackout solution in your
		player. 
	 <ul id="ul_7515575EDBDE4CB19942A328E4C7AEDF">
		<li id="li_000CA26F3B0B45D3BB7CC90EA664D7DC"><b
		  >MediaPlayer</b>
		  <ul id="ul_7125579529ED46F0B8F079931BF061B6" > 
			 <li id="li_F3BC61AAD8CE4E5FAF2600EECB70A420"><codeph
				>registerCurrentItemAsBackgroundItem</codeph> 
				<p>Saves the currently loaded resource as the background resource.
				  If 
				  <codeph>replaceCurrentResource</codeph> is called after this
				  method, 
				  <ph conkeyref="phrases/primetime-sdk-name"/> continues to
				  download the background itemâ€™s manifest until you call 
				  <codeph>unregisterCurrentBackgroundItem</codeph>. 
				</p> 
			 </li> 
			 <li
			  id="li_DB450C5606CB435BB87B6F9129F013D7"><codeph>unregisterCurrentBackgroundItem</codeph>
				
				<p> Clears the currently set background resource and stops fetching
				  and parsing the background manifest. 
				</p> 
			 </li> 
		  </ul>
		</li> 
		<li id="li_D7067352756D48CDBAA2D18158CF0060"><b>BlackoutMetadata</b>
					<p>A Metadata type that is specific to blackouts. </p><p>This allows you to set
						nonseekable ranges (an additional <codeph>TimeRange</codeph> attribute
						called <codeph>nonseekableRange</codeph>) on <ph
							conkeyref="phrases/primetime-sdk-name"/>. <ph
							conkeyref="phrases/primetime-sdk-name"/> checks for these ranges
						(whether the desired seek position falls within a
							<codeph>nonseekableRange</codeph>) every time the user seeks. If it is
						set and the user seeks into a nonseekable range, <ph
							conkeyref="phrases/primetime-sdk-name"/> forces the viewer to the end
						time of the <codeph>seekableRange</codeph>. </p>
				</li>
		<li id="li_8DA7F9E40BF3497482A1EAA173F656DF"><b>START HERE NEXT</b>
					<b>DefaultMetadataKeys</b>
					<p>Enable or disable preroll on a live stream by setting
							<codeph>ENABLE_LIVE_PREROLL</codeph> to true or false. If false, <ph
							conkeyref="phrases/primetime-sdk-name"/> does not make an explicit ad
						server call for pre-roll ads before the content playback and so does not
						play the pre-roll. This has no impact on the mid-rolls. The default is true.
					</p>
				</li> 
		<li id="li_CF319A607EDE4682859DE4C3C421A085"><b>TimedMetadataEvent</b>
					<ul id="ul_E0E2E396BF0749158B1F16B3FB921766">
						<li id="li_7A3505C915A94F64B1A922F3CABCC712">
							<codeph>TIMED_METADATA_IN_BACKGROUND_AVAILABLE</codeph> event subtype -
							Dispatched when <ph conkeyref="phrases/primetime-sdk-name"/> detects a
							subscribed tag in the background manifest.  </li>
					</ul>
				</li> 
		<li id="li_F192F8B0F8F14CB5B9342DFBD4E23F03">
					<b>Notifications</b>
					<ul id="ul_4A917DD8145D43A380A34C8C9F68E885">
						<li id="li_DFE1EE26CB1C4581B77952C9B01664CC"
								><codeph>BACKGROUND_MANIFEST_WARNING</codeph>
							<ul id="ul_13E487559FB84D9D869D9824FA85C54B">
								<li id="li_068D21F17D2D4C8C9485D4AA5DFCBE9F">Code: 204000 </li>
								<li id="li_8AC9E09F000A49859DE8153A0A6F4349">Type: Warning </li>
								<li id="li_5BFD34423C8B437199F1C0B2766811EE">Error in background
									manifest download. </li>
							</ul>
						</li>
						<li id="li_8D59CC0FEA18424F8569757141EACB6F">
							<codeph>SeekEvent.SEEK_POSITION_ADJUSTED</codeph>
							<p>Dispatched when a seek is attempted in a nonseekable range. </p>
						</li>
					</ul>
				</li> 
	 </ul> 
	 </p> 
  </conbody> 
</concept> 
