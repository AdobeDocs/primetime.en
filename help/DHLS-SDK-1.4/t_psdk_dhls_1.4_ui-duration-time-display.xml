<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "technicalContent/dtd/task.dtd">
<task id="display-duration-time"
 xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/"> 
  <title>Display the duration, current time, and remaining time of the
	 video</title> 
  <shortdesc>You can use 
	 <ph conkeyref="phrases/primetime-sdk-name"/> to retrieve information about
	 the media that you can display on the seek bar. 
  </shortdesc> 
  <taskbody> 
	 <steps id="steps_0B06BF23A6F1480E8DB09F912A7A7461"> 
		<step id="step_1EBF6490CC384911BB574786CE6AB46B">
				<cmd>Wait for your player to be in the  INITIALIZED status. </cmd>
			</step>
		<step id="step_0C45A5E5C0DA44A6AE04912BCF28365A" >
		  <cmd>Retrieve the current playhead time using the 
			 <codeph>MediaPlayer.currentTime</codeph> property.
		  </cmd>
		  <info>
			 <p>This returns the current playhead position on the virtual timeline
				in milliseconds. The time is calculated relative to the resolved stream that
				might contain multiple instances of alternate content, such as multiple ads or
				ad breaks spliced into the main stream. For live/linear streams, the returned
				time is always in the playback window range. 
			 </p>
			 <p>
				<codeblock  outputclass="syntax actionscript">function get currentTime():Number;</codeblock>
			 </p>
		  </info>
		</step> 
		<step id="step_0103D830C6294266BEB69DF6B8558FA7"> 
		  <cmd>Retrieve the playback range of the stream and determine the
			 duration. 
		  </cmd> 
		  <substeps id="substeps_DEB9819F5313467CA46B7DD531E81AC2">
			 <substep id="substep_F9A02599C1D9403F941E877727AF8BAF"
			  >
				<cmd>Use the 
				  <codeph>mediaPlayer.playbackRange</codeph> property to get the
				  virtual timeline time range. 
				</cmd>
				<info>
				  <codeblock  outputclass="syntax actionscript">function get playbackRange():TimeRange;</codeblock>
				</info>
			 </substep>
			 <substep 
			  id="substep_3AE71A06FA6144E8B9CF79820ACB2D04"> 
				<cmd>Parse the time range using 
				  <codeph
					>mediacore.utils.TimeRange</codeph>. 
				</cmd> 
			 </substep> 
			 <substep id="substep_7B0D3FC3E4044339A5DAD554E8ED5A82"> 
				<cmd>To determine the duration, subtract the start from the end of
				  the range. 
				</cmd> 
				<info> 
				  <p>This includes the duration of additional content that is
					 inserted into the stream (ads). 
				  </p> 
				</info> 
				<info> 
				  <p>For VOD, the range always begins with zero and the end value
					 equals the sum of the main content duration and the durations of additional
					 content that is inserted in the stream (ads). 
				  </p>
				  <p >For a linear/live asset, the range represents
					 the playback window range, and this range changes during playback. 
				  </p>
				  <p > 
					 <ph conkeyref="phrases/primetime-sdk-name"/> dispatches a 
					 <codeph>MediaPlayerItemEvent.ITEM_UPDATED</codeph> event to
					 indicate that the media item was refreshed and that its attributes (including
					 the playback range) were updated. 
				  </p> 
				</info> 
			 </substep> 
		  </substeps> 
		</step>
		<step id="step_C0E3B4A66F2E4B8DAD97FAAAB8C8D577">
				<cmd>Use the methods available on the <codeph>MediaPlayer</codeph> and the
						<codeph>HSlider</codeph> class that is publicly available in the Flex SDK to
					set up the seek-bar parameters. </cmd>
				<info/>
			</step>
		<step id="step_662CC504C8084D08A12EC29045710839">
				<cmd>Use a timer to periodically retrieve the current time and update the
						<codeph>SeekBar</codeph>. </cmd>
			</step> 
	 </steps> 
  </taskbody> 
</task> 
