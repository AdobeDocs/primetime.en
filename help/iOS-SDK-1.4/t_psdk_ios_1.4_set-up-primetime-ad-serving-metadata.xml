<?xml version="1.0"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="t_psdk_ios_set-up-primetime-ad-serving-metadata"> 
  <title>Set up Primetime ad server metadata</title> 
  <shortdesc>Your application must provide 
	 <ph
	  conkeyref="phrases/primetime-sdk-name"><?xm-replace_text Phrase?></ph>
	 with the required 
	 <codeph>PTAuditudeMetadata</codeph> information to connect to the ad
	 server. 
  </shortdesc> 
  <taskbody> 
	 <context id="context_CB9C71ACA43546D1B4D77F1BF86ED503"> 
		<p>To set up the ad server metadata: 
		</p> 
	 </context> 
	 <steps id="steps_72C7A8C512B246B18CEA760DE0B38D06"> 
		<step id="step_E737B4A3475B44A88DDFF8696B68C758"> 
		  <cmd>Create an instance of 
			 <xref scope="external"
			  href="http://help.adobe.com/en_US/primetime/api/psdk/appledoc/Classes/PTAuditudeMetadata.html"
			  format="html"><codeph>PTAuditudeMetadata</codeph></xref> and set its
			 properties. 
		  </cmd> 
		  <info> 
			 <codeblock outputclass="syntax objective-c">PTAuditudeMetadata *adMetadata = [[PTAuditudeMetadata alloc] init]; 
adMetadata.zoneId = @"INSERT_YOUR_ZONE_ID_HERE";
adMetadata.domain = @"INSERT_YOUR_DOMAIN_HERE";
// Optionally set user agent
adMetadata.userAgent = @"INSERT_AGENT_NAME_HERE;
</codeblock> 
		  </info> 
		</step> 
		<step id="step_5DBEFC43448B4AA29B649DCCEA5BEA99"> 
		  <cmd>Set the 
			 <codeph>PTAuditudeMetadata</codeph> instance as metadata for the
			 current 
			 <codeph>PTMediaPlayerItem</codeph> metadata by using 
			 <codeph>PTAdResolvingMetadataKey</codeph>. 
		  </cmd> 
		  <info> 
			 <codeblock outputclass="syntax objective-c">// Metadata is an instance of PTMetadata that is used to create the PTMediaPlayerItem
[metadata setMetadata:adMetadata forKey:PTAdResolvingMetadataKey]; 
[adMetadata release];</codeblock> 
		  </info> 
		</step> 
	 </steps> 
	 <example id="example_02034B0C6E15409B98AE8B5E441C502F"> 
		<p>Here is an example: 
		</p> 
		<codeblock outputclass="syntax objective-c">PTMetadata *metadata = [self createMetadata];
PTMediaPlayerItem *item = 
  [[[PTMediaPlayerItem alloc] initWithUrl:url mediaId:yourMediaID metadata:metadata] autorelease];

- (PTMetadata *) createMetadata {
    PTMetadata* metadata = [[[PTMetadata alloc] init] autorelease];

    PTAuditudeMetadata *adMetadata = [[[PTAuditudeMetadata alloc] init] autorelease]; 
    adMetadata.zoneId = yourZoneID;
    adMetadata.domain = yourAdServerDomain;

    [metadata setMetadata:adMetadata forKey:PTAdResolvingMetadataKey];

    return metadata;
}</codeblock> 
	 </example> 
  </taskbody> 
</task> 
