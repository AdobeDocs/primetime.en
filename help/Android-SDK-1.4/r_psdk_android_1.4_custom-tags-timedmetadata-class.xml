<?xml version="1.0"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="r_psdk_android_timedmetadata-class"> 
  <title>Timed metadata class</title> 
  <shortdesc> When <ph conkeyref="phrases/primetime-sdk-name"/> detects a subscribed tag in the
		playlist/manifest, the player automatically tries to process the tag and expose it in the
		form of a <codeph>TimedMetadata</codeph> object. </shortdesc> 
  <refbody> 
	 <refsyn id="refsyn_5B43F69C08D744BDAA319408C9D16990">The class provides the
		following elements: 
	 </refsyn> 
	 <table id="table_FFC56AC5B1E04DA99C9309C0223ABA90"> 
		<tgroup cols="3"><colspec colnum="1" colname="col1"
		  colwidth="1.00*"/><colspec colname="col02" colnum="2"
		  colwidth="1.66*"/><colspec colnum="3" colname="col2" colwidth="5.04*"/><thead> 
			 <row> 
				<entry colname="col1"> Property 
				</entry> 
				<entry colname="col02">Type 
				</entry> 
				<entry colname="col2">Description 
				</entry> 
			 </row></thead> 
		  <tbody> 
			 <row> 
				<entry colname="col1"><codeph>id</codeph>
						</entry> 
				<entry colname="col02">long</entry> 
				<entry colname="col2"> Unique identifier of the timed metadata. This value is usually extracted
							from the cue/tag ID attribute. Otherwise, a unique random value is
							provided. Use <codeph>getId</codeph>. </entry> 
			 </row> 
			 <row > 
				<entry colname="col1"><codeph>metadata</codeph>
						</entry> 
				<entry colname="col02">Metadata</entry> 
				<entry colname="col2"> The processed/extracted information from the playlist/manifest custom
							tag. Use <codeph>getMetadata</codeph>.</entry> 
			 </row> 
			 <row> 
				<entry colname="col1"><codeph>name</codeph></entry> 
				<entry colname="col02">String</entry> 
				<entry colname="col2"> The name of the timed metadata. If the type is <codeph>TAG</codeph>, the
							value represents the cue/tag name. If the type is <codeph>ID3</codeph>,
							it is null. Use <codeph>getName</codeph>.</entry> 
			 </row> 
			 <row> 
				<entry colname="col1"><codeph>time</codeph>
						</entry> 
				<entry colname="col02">long</entry> 
				<entry colname="col2">The time position, in milliseconds, relative to the start of the main
							content where this timed metadata is present in the stream. Use <codeph>
								getTime</codeph>.</entry> 
			 </row> 
			 <row> 
				<entry colname="col1"><codeph>type</codeph>
						</entry> 
				<entry colname="col02">Type</entry> 
				<entry colname="col2">The type of the timed metadata. Use <codeph>getType</codeph>.<ul
								id="ul_70FBFB33E9F846D8B38592560CCE9560">
								<li id="li_739D30561BFB4D9B97DF212E4880BA2C">TAG - indicates that
									the timed metadata was created from a tag in the
									playlist/manifest. </li>
								<li id="li_E785E1DEF1CC4D9DBE7764E5D05EFAFC">ID3 - indicates that
									the timed metadata was created from an ID3 tag in the media
									stream. </li>
							</ul></entry> 
			 </row> 
		  </tbody> 
		</tgroup> 
	 </table> 
	 <section id="section_737CC47997F74F80A3C5C6171ADE120E"><p/>Remember the following: <ul
				id="ul_D95D37F7876E4BE8B139F31ADDAE778D">
				<li id="li_683B5E7887434F14B918C586226C6275"><ph
						conkeyref="phrases/primetime-sdk-name"/> automatically extracts the
					attributes list into key-value pairs and stores the attributes in the metadata
					property. <note type="tip">Complex data in custom tags in the manifest, such as
						strings with special characters, must be in quotes. For example:
						<codeblock>#EXT-CUSTOM-TAG:type=SpliceOut,ID=1,time=71819.7222,duration=30.0,
url="www.example.com:8090?parameter1=xyz&amp;parameter2=abc"</codeblock>
					</note>
				</li>
				<li id="li_09522208011A414DB25A2F7EC840B373">If the extraction fails because of a
					custom tag format, the metadata property will be empty and your application must
					extract the actual information. No error is thrown in this case. </li>
			</ul>
		</section> 
	 <table id="table_1BAE98BF23F641A3A5709EBE37B327F6"> 
		<tgroup cols="2"><colspec colnum="1" colname="col1"
		  colwidth="*"/><colspec colnum="2" colname="col2" colwidth="*"/><thead> 
			 <row> 
				<entry colname="col1"> Element 
				</entry> 
				<entry colname="col2">Description 
				</entry> 
			 </row></thead> 
		  <tbody> 
			 <row> 
				<entry colname="col1"><codeph>public enum Type { TAG, ID3}</codeph>
						</entry> 
				<entry colname="col2">Possible types for the timed metadata. 
				</entry> 
			 </row> 
			 <row > 
				<entry colname="col1"><codeph>public TimedMetadata(Type type, long time, long id, String name,
								Metadata metadata);</codeph></entry> 
				<entry colname="col2">Default constructor (time is the local stream
				  time). 
				</entry> 
			 </row> 
			 <row> 
				<entry colname="col1"><codeph>public long getTime();</codeph></entry> 
				<entry colname="col2">The time position, relative to the start of
				  the main content, where this metadata was inserted in the stream. 
				</entry> 
			 </row> 
			 <row > 
				<entry colname="col1"><codeph>public Metadata getMetadata();</codeph></entry> 
				<entry colname="col2">The metadata inserted in the stream. 
				</entry> 
			 </row> 
			 <row> 
				<entry colname="col1"><codeph>public Type getType();</codeph></entry> 
				<entry colname="col2">Returns the type of the timed metadata. 
				</entry> 
			 </row> 
			 <row> 
				<entry colname="col1"><codeph>public long getId();</codeph></entry> 
				<entry colname="col2">Returns the ID extracted from the cue/tag
				  attributes. Otherwise, a unique random value is provided. 
				</entry> 
			 </row> 
			 <row> 
				<entry colname="col1"><codeph>public String getName();</codeph></entry> 
				<entry colname="col2">Returns the name of the cue, which is usually
				  the HLS tag name. 
				</entry> 
			 </row> 
		  </tbody> 
		</tgroup> 
	 </table> 
  </refbody> 
</reference> 
