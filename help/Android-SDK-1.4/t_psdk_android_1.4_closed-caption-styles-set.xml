<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "technicalContent/dtd/task.dtd">
<task id="set-closed-captions-styles"
 xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/"> 
  <title>Set closed-caption styles</title> 
  <shortdesc>You can style the closed-caption text with 
	 <ph conkeyref="phrases/primetime-sdk-name"/> methods. 
  </shortdesc> 
  <taskbody> 
	 <steps> 
		<step>
				<cmd>Wait for the media player to be in at least the PREPARED state. </cmd>
			</step>
		<step> 
		  <cmd>Create a 
			 <codeph>TextFormatBuilder</codeph> instance. 
		  </cmd> 
		  <info> 
			 <p>You can provide all the closed-caption styling parameters now or
				set them later. 
			 </p> 
		  </info> 
		  <info> 
			 <p><ph conkeyref="phrases/primetime-sdk-name"
						/> encapsulates closed-caption styling information in the <codeph>TextFormat</codeph> interface. The <codeph>TextFormatBuilder</codeph> class creates objects that implement this interface. </p> 
			 <codeblock outputclass="syntax java">public TextFormatBuilder(
   Font font,
   Size size,
   FontEdge fontEdge,
   Color fontColor,
   Color backgroundColor,
   Color fillColor,
   Color edgeColor,
   int fontOpacity,
   int backgroundOpacity,
   int fillOpacity)</codeblock> 
		  </info> 
		</step> 
		<step> 
		  <cmd>To obtain a reference to an object that implements the 
			 <codeph>TextFormat</codeph> interface, call the 
			 <codeph>TextFormatBuilder.toTextFormat</codeph> public method. 
		  </cmd> 
		  <info>This returns a 
			 <codeph>TextFormat</codeph> object that can be applied to the media
			 player. 
			 <codeblock outputclass="syntax java">public TextFormat toTextFormat()</codeblock> 
		  </info> 
		</step> 
		<step> 
		  <cmd>Optionally get the current closed-caption style settings by doing
			 one of the following: 
		  </cmd> 
		  <choices> 
			 <choice>Get all the
				style settings with 
				<codeph>MediaPlayer.getCCStyle</codeph>. 
				<p>The return value is an instance of the 
				  <codeph>TextFormat</codeph> interface. 
				  <codeblock outputclass="syntax javascript">/**
* @return the current closed captioning style. 
* If no style was previously set, it returns a TextFormat object
* with default values for each attribute.
* @throws IllegalStateException if media player was already released.
*/
public TextFormat getCCStyle() throws IllegalStateException;</codeblock> 
				</p> 
			 </choice> 
			 <choice>Get the settings
				one at a time through the 
				<codeph>TextFormat</codeph> interface getter methods. 
				<codeblock outputclass="syntax javascript">public Color getFontColor();
public Color getBackgroundColor();
public Color getFillColor(); // retrieve the font fill color
public Color getEdgeColor(); // retrieve the font edge color
public Size getSize(); // retrieve the font size
public FontEdge getFontEdge(); // retrieve the font edge type
public Font getFont(); // retrieve the font type
public int getFontOpacity();
public int getBackgroundOpacity();</codeblock> 
			 </choice> 
		  </choices> 
		</step> 
		<step> 
		  <cmd>To change the style settings, do one of the following: 
		  </cmd> 
		  <info  > 
			 <note>You cannot change the size for WebVTT captions.</note> 
		  </info> 
		  <choices> 
			 <choice>Use the setter
				method 
				<codeph>MediaPlayer.setCCStyle</codeph>, passing an instance of the
				
				<codeph>TextFormat</codeph> interface: 
				<codeblock outputclass="syntax javascript">/**
* Sets the closed captioning style. Used to control the closed captioning font,
* size, color, edge and opacity. 
*
* This method is safe to use even if the current media stream doesn't have closed
* captions.
*
* @param textFormat
* @throws IllegalStateException
*/
public void setCCStyle(TextFormat textFormat) throws IllegalStateException;</codeblock> 
			 </choice> 
			 <choice>Use the <codeph>TextFormatBuilder</codeph> class, which defines individual setter
						methods. <p>The <codeph>TextFormat</codeph> interface defines an immutable
							object so there are only getter methods and no setters. You can set the
							closed-caption styling parameters only with the
								<codeph>TextFormatBuilder</codeph> class:
						</p><codeblock outputclass="syntax javascript">// set font type
public void setFont(Font font) 
public void setBackgroundColor(Color backgroundColor)
public void setFillColor(Color fillColor)
// set the font-edge color
public void setEdgeColor(Color edgeColor) 
// set the font size
public void setSize(Size size) 
// set the font edge type
public void setFontEdge(FontEdge fontEdge) 
public void setFontOpacity(int fontOpacity)
public void setBackgroundOpacity(int backgroundOpacity)
// set the font-fill opacity level
public void setFillOpacity(int fillOpacity) 
public void setFontColor(Color fontColor)</codeblock>
					</choice> 
		  </choices> 
		  <info> Setting the closed-caption style is an asynchronous operation, so it might take up to a
					few seconds for the changes to appear on the screen.</info> 
		</step> 
	 </steps> 
  </taskbody> 
</task> 
