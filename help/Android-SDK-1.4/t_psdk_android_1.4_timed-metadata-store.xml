<?xml version="1.0"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task id="task_timed_metadata_store"> 
  <title>Store timed metadata objects as they are dispatched</title> 
  <shortdesc> Your application must use the appropriate <codeph>TimedMetadata</codeph> objects at
		the appropriate times. </shortdesc> 
  <taskbody> 
	 <context id="context_7015AEAAEDDE42F89450C3C4E2F96B69"> 
		<p> During content parsing, which happens before playback, <ph
					conkeyref="phrases/primetime-sdk-name"/> identifies subscribed tags and notifies
				your application about these tags. The time that is associated with each
					<codeph>TimedMetadata</codeph> is the local time on the playback timeline. </p> 
		<p>Your application must complete the following tasks: 
		</p> 
	 </context> 
	 <steps id="steps_513D8CAD7D3341D2946CCB97CF32D58C"> 
		<step id="step_4FDB331880174B289E751BD4D3F89CB5"> 
		  <cmd>Keep track of the current playback time. 
		  </cmd> 
		</step> 
		<step id="step_FD1DE8C6039E4F16B817D6521252570C">
				<cmd>Match the current playback time to the dispatched
						<codeph>TimedMetadata</codeph> objects. </cmd>
				<info> </info>
			</step> 
		<step id="step_4388FF6A539F4599860D4CAA19EC0AF6">
				<cmd>Use the <codeph>TimedMetadata</codeph> where the start time equals the current
					local playback time. </cmd>
				<info/>
				<stepxmp>The following example shows how to save <codeph>TimedMetadata</codeph>
					objects in an <codeph>ArrayList</codeph>.
					<codeblock outputclass="syntax java">private List&lt;TimedMetadata&gt; _timedMetadataList = new ArrayList&lt;TimedMetadata&gt;();
...
public void onTimedMetadata(TimedMetadata timedMetadata) {
    ...
    if (timedMetadata.getName().equalsIgnoreCase("#EXT-X-CUE"))  {
        _timedMetadataList.add(timedMetadata);
    }
    ...
}</codeblock></stepxmp>
			</step> 
	 </steps> 
  </taskbody> 
</task> 
