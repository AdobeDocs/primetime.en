<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "technicalContent/dtd/task.dtd">
<task id="t_psdk_android_pausing-resuming-playback"
 xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/"> 
  <title>Pause and resume playback</title> 
  <shortdesc>When a user clicks an ad, your application should pause playback of the main video
		content.</shortdesc> 
  <taskbody>
	 <steps> 
		<step>
		  <cmd>Override the 
			 <codeph>onPause</codeph> and 
			 <codeph>onResume</codeph> from the Android Activity. 
		  </cmd> 
		  <info>
			 <codeblock outputclass="syntax java">@Override
public void onResume() {
    super.onResume();
    requestAudioFocus();
    if (_lastKnownStatus == MediaPlayer.PlayerState.PAUSED) {
        _mediaPlayer.play();
    }
}
...

@Override
public void onPause() {
    super.onPause();
    if (_mediaPlayer != null) {
        if (_mediaPlayer.getStatus() == MediaPlayer.PlayerState.PLAYING ||
          _mediaPlayer.getStatus() == MediaPlayer.PlayerState.PAUSED) {
            _savedPlayerState = _mediaPlayer.getStatus();
            _lastKnownTime = _mediaPlayer.getCurrentTime();
        }
        if (_mediaPlayer.getStatus() == MediaPlayer.PlayerState.PLAYING) {
            _mediaPlayer.pause();
            _lastKnownStatus = MediaPlayer.PlayerState.PAUSED;
        }
    }
}

abandonAudioFocus();
</codeblock> 
		  </info>
		</step>
	 </steps>
  </taskbody>
</task> 
