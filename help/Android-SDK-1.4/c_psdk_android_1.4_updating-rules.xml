<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="concept_fdy_qnw_hz"> 
  <title>Updating ad creative selection rules</title> 
  <shortdesc>You can use the 
	 <ph conkeyref="phrases/primetime-sdk-name"/> configuration file
	 (<filepath>AdobeTVSDKConfig.json</filepath>) to update the priorities for ad
	 creative selection on VAST/VMAP responses. You can also use this configuration
	 file to define the source URL transformation rules for ad creatives. 
  </shortdesc> 
  <prolog> 
	 <metadata> 
		<keywords> 
		  <keyword>creative selection rules</keyword> 
		  <keyword>AdobeTVSDKConfig</keyword> 
		  <keyword>ad creative priorities</keyword> 
		  <keyword>transformation rules</keyword> 
		</keywords> </metadata>
  </prolog> 
  <conbody> 
	 <p/> 
	 <p>When your video player makes a request to an ad server, the VAST/VMAP
		response usually includes multiple ad creatives (<codeph>MediaFile</codeph>
		elements), each of which provides a URL to a different container-codec version.
		In some cases, ad creatives in the VAST/VMAP response each provide a different
		bitrate for the ad. If you want to specify your own priority and transformation
		rules for these ad creatives, you can do so in the 
		<filepath>AdobeTVSDKConfig.json</filepath> configuration file.
	 </p> 
	 <p> 
		<note type="important"> 
		  <ul id="ul_gy4_x1x_hz"> 
			 <li id="li_FBE3AFC507F5460F9FE7EE7FB759A200">Do not change the name
				of the 
				<ph conkeyref="phrases/primetime-sdk-name"/> configuration file.
				The name must remain 
				<filepath>AdobeTVSDKConfig.json</filepath>.
			 </li> 
			 <li id="li_4D3083D3F96F46E187FF08C9DCD225D3">This file must be placed
				in the 
				<filepath>assets/</filepath> folder of your project.
			 </li> 
		  </ul> 
		</note> 
	 </p> 
	 <p>You can specify two types of rules in 
		<filepath>AdobeTVSDKConfig.json</filepath>: 
		<i>Priority</i> rules and 
		<i>Normalize</i> rules.
	 </p>
	 <p><uicontrol></uicontrol>
	 </p>
	 <p><uicontrol>Disabling Pre-Roll</uicontrol>
	 </p>
	 <p>To disable pre-roll you will need to change the default opportunity
		generators to not make the pre-roll call. By default, TVSDK uses the following
		opportunity generators:
	 </p>
	 <p>
		<codeblock>/**
 * @inheritDoc
 */
override protected function doRetrieveGenerators(item:MediaPlayerItem):Vector.&lt;OpportunityGenerator&gt; {
    var result:Vector.&lt;OpportunityGenerator&gt; = new Vector.&lt;OpportunityGenerator&gt;();
    result.push(new AdSignalingModeOpportunityGenerator());
    result.push(new SpliceOutOpportunityGenerator());
    return result;
}
</codeblock>
	 </p>
	 <p>To disable the pre-roll on live streams, this should change to include
		only the SpliceOutOpportunityGenerator:
	 </p>
	 <p>
		<codeblock>
/**
 * @inheritDoc
 */
override protected function doRetrieveGenerators(item:MediaPlayerItem):Vector.&lt;OpportunityGenerator&gt; {
    var result:Vector.&lt;OpportunityGenerator&gt; = new Vector.&lt;OpportunityGenerator&gt;();
    if (preroll_enabled == true) {
        result.push(new AdSignalingModeOpportunityGenerator());
    }
    result.push(new SpliceOutOpportunityGenerator());
    return result;
}</codeblock>
	 </p> 
  </conbody> 
</concept> 
