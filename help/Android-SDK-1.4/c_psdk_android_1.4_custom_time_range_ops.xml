<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="custom_time_range_ops"> 
  <title>Custom time range operations</title> 
  <shortdesc> Ad deletion and replacement is implemented with <codeph>TimeRange</codeph> elements
		that identify different types of time ranges in a VOD stream: mark, delete, and replace. For
		each of these custom time range types, you can perform corresponding operations, including
		deleting and replacing ad content. </shortdesc> 
  <conbody><section  > 
  	<p>For ad deletion and replacement, <ph conkeyref="phrases/primetime-sdk-name"/>
		uses the following 
		<i>custom time range operation</i> modes: 
	 <ul> 
		<li>MARK 
		  <p>(These were referred to as custom ad markers in previous versions of
		  	<ph conkeyref="phrases/primetime-sdk-name"/>).
			 They mark the beginning and ending times for ads that are already placed into
			 the VOD stream. When there are time range markers of type MARK in the stream,
			 an initial placement of 
			 <codeph>Mode.MARK</codeph> is generated and resolved by the 
			 <codeph>CustomAdMarkersContentResolver</codeph>. No ads are inserted.
			 
		  </p> 
		</li> 
		<li>DELETE 
		  <p>For DELETE time ranges, an initial 
			 <codeph>placementInformation</codeph> of type 
			 <codeph>Mode.DELETE</codeph> is created and resolved by the
			 corresponding 
			 <codeph>DeleteContentResolver</codeph>. 
			 <codeph>ContentRemoval</codeph> is a new 
			 <codeph>timelineOperation</codeph> that defines the ranges to be
		  	removed from the timeline. <ph conkeyref="phrases/primetime-sdk-name"/>
			 uses 
			 <codeph>removeByLocalTime</codeph> from the Adobe Video Engine (AVE)
			 API to facilitate that operation. If there are DELETE ranges and 
		  	<ph conkeyref="phrases/auditude-name-long"/>
			 (previously known as 
		  	<ph conkeyref="phrases/auditude-name-previously-known-as"/>)
			 metadata, the ranges are deleted first, then the 
			 <codeph>AuditudeResolver</codeph> resolves ads using the normal 
		  	<ph conkeyref="phrases/auditude-name-long"/> workflow. 
		  </p> 
		</li> 
		<li>REPLACE 
		  <p>For REPLACE time ranges, two initial 
			 <codeph>placementInformations</codeph> are created, one 
			 <codeph>Mode.DELETE</codeph> and one 
			 <codeph>Mode.REPLACE</codeph>. The 
			 <codeph>DeleteContentResolver</codeph> deletes the time ranges first
			 and then the 
			 <codeph>AuditudeResolver</codeph> inserts ads of the specified 
			 <codeph>replaceDuration</codeph> into the timeline. If no 
			 <codeph>replaceDuration</codeph> is specified, the server determines
			 what to insert. 
		  </p> 
		</li> 
	 </ul> 
	 </p> 
  	<p>To support these custom time range operations, <ph conkeyref="phrases/primetime-sdk-name"/>
		provides the following: 
	 <ul> 
		<li>Multiple content resolvers <p>A stream can have multiple content resolvers based on the ad
							signaling mode and ad metadata. The behavior changes with different
							combinations of ad signaling modes and ad metadata.  </p>
					</li> 
		<li>Multiple initial 
		  <codeph>PlacementInformations</codeph> 
		  <p>The 
			 <codeph>DefaultMediaPlayer</codeph> creates a list of initial 
			 <codeph>PlacementInformations</codeph> based on the ad signaling mode
			 and ad metadata to be resolved by the 
			 <codeph>MediaPlayerClient</codeph>. 
		  </p> 
		</li> 
		<li>New ad signaling mode: Custom time ranges <p>Ads are placed based on Time Range data from an
							external source (such as a JSON file). </p></li> 
	 </ul> 
	 </p></section>
 
  </conbody> 
</concept> 
